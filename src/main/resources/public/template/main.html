<div class="row">
    <div class="twelve cell display-flex">
        <div class="cell">
            <app-title class="zero-mobile">
                <img class="application-logo" ng-src="/edt/public/img/uni-edt.png" alt=""/>
                <h1 class="application-title">
                    <i18n>edt.fullTitle</i18n>
                </h1>
            </app-title>
        </div>
        <div ng-if="!isAllStructure" workflow="edt.edtSearch"
             class="cell search-bars" ng-class="(params.coursesToDelete.length > 0) ? 'small' : 'full'">
            <div class="search-inputs">
                <div class="search-input small">
                    <async-autocomplete data-ng-disabled="false"
                                        data-ng-model="autocomplete.teacher"
                                        data-ng-change="selectTeacher"
                                        data-options="autocomplete.teacherOptions"
                                        data-on-search="filterTeacherOptions"
                                        data-placeholder="edt.search.teacher"
                                        data-search="autocomplete.teacher">
                    </async-autocomplete>
                </div>
                <div class="search-input small">
                    <async-autocomplete data-ng-disabled="false"
                                        data-ng-model="autocomplete.class"
                                        data-ng-change="selectClass"
                                        data-options="autocomplete.classOptions"
                                        on-search="filterClassOptions"
                                        data-placeholder="edt.search.group"
                                        search="autocomplete.class">
                    </async-autocomplete>
                </div>
            </div>
        </div>

        <!-- choose children section -->
        <div ng-if="isRelative()" class="cell margin-select-child">
            <div ng-if="children && children.length > 1" class="row display-inline-block section-content">
                <select ng-model="child"
                        id="children-list"
                        class="twelve margin-left-2 margin-bottom-mid remove-border-select-child"
                        ng-change="switchChild(child)"
                        ng-options="child as child.displayName for child in children">
                    <option value="" disabled selected>[[translate('utils.child.choose.one')]]</option>
                </select>
            </div>
        </div>

        <!-- choose structure section -->
        <!-- when fetch child's structure in relative view, add "isRelative()" to the condition -->
        <div ng-if="isStudent() && structures.all.length > 1" class="cell margin-select-child">
            <div class="row display-inline-block section-content">
                <select ng-model="structure"
                        id="structure-list"
                        class="twelve margin-left-2 margin-bottom-mid remove-border-select-child"
                        ng-change="switchStructure(structure)"
                        ng-options="structure as structure.name for structure in structures.all">
                    <option value="">[[translate('utils.structure.choose.one')]]</option>
                </select>
            </div>
        </div>

        <div class="loader four cell" ng-show="calendarLoader.show">
            <div>
                <h4>
                    <i class="spinner margin-right-md"></i>
                    <i18n>edt.calendar.loading</i18n>
                </h4>
            </div>
        </div>

        <div class="header-buttons">
            <section ng-if="isPersonnel()" id="delete-section" class="button-header four cell">
                <div class="cell twelve ">
                    <button ng-show="(params.coursesToDelete.length > 0)" class="twelve padding-sm delete-course-button"
                            ng-click="openDeleteForm()">
                        <i18n>edt.utils.delete.selected</i18n>
                    </button>
                </div>
            </section>

            <section ng-if="isPersonnel()" id="add-section" class="button-header">
                <div class="cell twelve ">
                    <div class="row cell">
                        <div class="twelve cell small">
                            <button class="twelve padding-sm" ng-click="createCourse()">
                                <i18n>edt.schedule.create</i18n>
                            </button>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>
    <div class="clear"></div>
</div>
<div class="row">

    <article ng-if="::checkAccess()" class="cell two twelve-mobile sidebar"
             static-include="/edt/public/template/main/sidebar.html">
    </article>

    <!-- Calendar View -->
    <div id="calendar-view" class="cell horizontal-spacing twelve-mobile"
         ng-class="{calendar: checkAccess(), twelve: !checkAccess(), 'no-cursor': (isStudent() || isRelative() || isTeacher())}">
        <calendar
                enable-display-modes="true"
                display-template="calendar/course-item"
                display-month-template="calendar/course-month"
                item-tooltip-template="calendar/course-tooltip"
                items="structure.calendarItems.all"
                slots="timeSlots.all"
                display-options="true"
                show-next-previous-button="true">
        </calendar>
    </div>
</div>

<!--Popups-->
<lightbox show="show.home_lightbox" on-close="cancelEditionLightbox();">
    <container template="homePagePopUp"></container>
</lightbox>

<lightbox show ="show.delete_lightbox" on-close="cancelDeleteLightbox();">
    <container template="deletePagePopUp"></container>
</lightbox>

<lightbox show ="show.isDeleteOccurrenceLightbox" on-close="cancelDeleteOccurrenceLightbox();">
    <container template="deleteOccurrencePagePopup"></container>
</lightbox>