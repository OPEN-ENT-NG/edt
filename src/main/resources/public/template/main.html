<div class="row">
    <article class="row twelve" ng-if="isRelative() || isTeacher()">
        <div ng-if="structures.all.length > 1">
            <select ng-model="structure"
                    ng-change="switchStructure(structure)"
                    ng-options="structure as structure.name for structure in structures.all"></select>
        </div>
        <div ng-if="isTeacher()">
            <h4>
                <i18n>edt.timetable.of.group</i18n>
                <div>
                    <div class="cell twelve-mobile twelve">
                       <multi-combo   title="[[translate('utils.groups')]]" id="group-list-teacher" combo-model="structure.groups.all"
                                      search-on="name" order-by="type_groupe" filtered-model="params.group"
                                      labels="comboLabels"  ></multi-combo><i class="refused-icon" ng-click="getTeacherTimetable()"></i>
                        <div class="select-blocks">
                            <div ng-repeat="group in params.group" class="[[group.color]]"
                                 ng-click="dropGroup(group)">[[group.name]]</div>
                        </div>
                    </div>
                </div>

            </h4>
        </div>
        <div ng-if="isRelative() && structure.students.all.length > 0">
            <h4 ng-if="structure.students.all.length === 1"><i18n>edt.timetable.of</i18n> [[currentStudent.displayName]]</h4>
            <div ng-if="structure.students.all.length > 1">
                <h4>
                    <i18n>edt.timetable.of</i18n>
                    <select id="students-list"
                            ng-model="currentStudent"
                            ng-change="params.group = getStudentGroup(currentStudent); getTimetable();"
                            ng-options="student as student.displayName for student in structure.students.all">
                        <option value="" disabled selected>[[translate('edt.student.choose')]]</option>
                    </select>
                </h4>
            </div>
        </div>
    </article>
    <article class="cell two twelve-mobile" ng-if="isPersonnel()">
        <div ng-if="structures.all.length > 1">
            <label for="structure-list"><i18n>utils.structures</i18n></label>
            <select ng-model="structure"
                    id="structure-list"
                    class="twelve"
                    ng-change="switchStructure(structure)"
                    ng-options="structure as structure.name for structure in structures.all">
                <option value="" disabled selected>[[translate('utils.structure.choose.one')]]</option>
            </select>
        </div>
        <div>
            <div class="cell twelve-mobile twelve">
                <multi-combo  class="twelve" title="[[translate('utils.teachers')]]" id="user-list" combo-model="structure.teachers.all"
                              search-on="displayName" order-by="displayName" filtered-model="params.user"
                              labels="comboLabels"  ></multi-combo>
                <div class="select-blocks">
                    <div ng-repeat="teacher in params.user"
                         ng-click="dropTeacher(teacher)">[[teacher.displayName]]</div>
                </div>
            </div>
        </div>
        <div>
            <div class="cell twelve-mobile twelve">
                <multi-combo  class="twelve" title="[[translate('utils.groups')]]" id="group-list" combo-model="structure.groups.all"
                              search-on="name" order-by="type_groupe" filtered-model="params.group"
                              labels="comboLabels"  ></multi-combo>
                <div class="select-blocks">
                    <div ng-repeat="group in params.group" class="[[group.color]]"
                         ng-click="dropGroup(group)">[[group.name]]</div>
                </div>
            </div>
        </div>
        <div class="row cell" workflow="edt.create">
            <button class="twelve" ng-click="createCourse()"><i18n>edt.schedule.create</i18n></button>
        </div>
    </article>
    <div id="calendar-view" class="cell horizontal-spacing twelve-mobile" ng-class="{twelve: !isPersonnel(), ten: isPersonnel()}">
        <div class="loader" ng-if="calendarLoader.show">
            <div>
                <p><i class="spinner"></i></p>
                <h4><i18n>edt.calendar.loading</i18n></h4>
            </div>
        </div>
        <calendar
                enable-display-modes="true"
                display-template="calendar/course-item"
                display-month-template="calendar/course-item"
                item-tooltip-template="calendar/course-tooltip"
                items="structure.courses.all"
                show-quarter-hours="true"
                show-next-previous-button="true">
        </calendar>
    </div>
</div>